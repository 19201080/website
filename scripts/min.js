$(function(){var e={launch:function(){$(document).ready(function(){if($(".backbutton").length){e.load()}$("img").css("opacity","0");e.appear();e.log()});$(window).scroll(function(){typeof b==="undefined"&&(b=e.measure("top"));typeof c==="undefined"&&(c=e.measure("collapsed"));e.collapse(b,c);e.appear();if($(".projecttitle").length){e.headertitle()}});$(".menu a").click(function(){e.toggleinfos($(this))});$(".mask").click(function(){e.unmask()});$(document).keyup(function(){e.unmask()})},load:function(){var D,C=2,B=[["/","—","\\","|"],["⠈","⠐","⠠","⢀","⡀","⠄","⠂","⠁"],["⣷","⣯","⣟","⡿","⢿","⣻","⣽","⣾"],["⡄","⠆","⠃","⠉","⠘","⠰","⢠","⣀"]],A=0,z=210,y=210,x=60,w=5,v=true,u,t,s;function r(i,a){u=Date.now();q()}function q(i,a){if(!v){cancelAnimationFrame(q);return}requestAnimationFrame(q);t=Date.now();s=t-u;if(s>100){u=t-(s%100);z+=Math.floor(Math.random()*(w+0.5)*2)+((Math.pow(((y-z)/x),7)-1)*w);$(".backbutton a").text(B[C][A]).css("color","hsl("+z+", 89%, 63%)");A=(A>=B[C].length-1)?0:++A}}function p(a){cancelAnimationFrame(q);v=false;$(".backbutton a").fadeTo(600,0,function(){$(this).text("<").css("color","#FFF").fadeTo(600,1)})}$(document).imagesLoaded().always(p).progress(r)},appear:function(){$("img").each(function(){var j=$(document).scrollTop()+$(window).height(),i=$(this).offset().top;if(j>i){$(this).fadeTo(600,1)}})},measure:function(j){var i=document.createElement("div");$("body").append($(i).addClass(j).css("display","none").width(0));var k=$(i).height();$(i).remove();return k},collapse:function(w,v){var u=$(document).scrollTop(),t=$(".header"),s=$(".menu");typeof f==="undefined"&&(f=0);typeof g==="undefined"&&(g=0);typeof h==="undefined"&&(h=0);function r(){return $(".header").position().top}function q(){return t.css({position:"fixed",top:"0px"})}function p(){return t.css({position:"absolute"})}function o(){return s.addClass("collapsed")}function n(){return s.removeClass("collapsed")}if(u<0){n();q()}else{if(u>$(document).height()-$(window).height()){o();q()}else{if(u>f&&$(".top.about").css("display")!="block"&&$(".top.contact").css("display")!="block"){if(!g){p();h&&t.css("top",u+"px");g=1;h=0}u>r()+w-v&&!s.hasClass("collapsed")&&(o(),q(),h=1)}else{if(u<f){if(g){n();p();h&&t.css("top",u+v-w+"px");g=h=0}u<=r()&&(q(),h=1)}}}}f=u},headertitle:function(){$(".top .projecttitle").html(function(i,k){typeof d!=="string"&&(d=$(".main-title h1").text());var j=($(document).scrollTop()>$(".main-title").outerHeight(true)-$(".header").outerHeight())?"<span>"+d+"</span>":'<a href="/">étienne ndiaye</a>';if(k!=j){return j}})},toggleinfos:function(j){var i=$(".top."+j.text()),m=$(".header").position().top,l=$(".mask"),k=$(document).scrollTop();(k==0||m!=0||$(".menu").hasClass("collapsed"))&&($(".menu").removeClass("collapsed"),$(".header").css({position:"fixed",top:"0px"}));i.css("display")=="block"?(i.hide(),j.parent().removeClass("active")):(i.show(),j.parent().addClass("active"));($(".top.about").css("display")=="block"||$(".top.contact").css("display")=="block")?l.addClass("active"):l.removeClass("active")},unmask:function(){$(".top.about, .top.contact").hide();$(".top div:has(a), .mask").removeClass("active")},log:function(){console.log(["%c  💫    ","étienne ndiaye    @etienneforce    et-nd.co","    🌿  "].join(""),"color: #CCC; background: #323232;")}};e.launch()});